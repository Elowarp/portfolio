<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="sc5aNzA6aQbDWWUrq1SSJDV4RSLB1r-XYc7XqyORLvo" />
    <title>Elowan - Développeur</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/f5889cb895.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
    {%load static%}
    <link href="{% static 'css/main.css' %}" rel="stylesheet">
    <style>
        pre {
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
            background-color: #f8f8f8;
            border: 1px solid #dfdfdf;
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            padding: 0.125rem 0.3125rem 0.0625rem;
            border-radius: 3px;
        }

        #article {
            font-size: 1.2rem;
        }

        h1 {
            padding-top: 2rem;
            padding-bottom: 2rem;
            font-weight: bold;
            text-align: center;
            font-style: oblique;
        }

        img {
            margin:auto;
        }
    </style>
</head>

<body class="">
    <header class="fixed-top">
        {% include './header.html'%}
    </header>
    <main>
        <section id="article">
            <div class="container pt-3 pb-5">
                {% if article.image %}
                <div class="row">
                    <div class="ratio ratio-16x9" >
                        <div style="overflow-y: hidden">
                            <img src="/media/{{article.image}}" alt="{{article.image}}" style="width:100%; transform: translateY(-15%);">
                        </div>
                    </div>
                </div>
                {% endif %}
                <div id="content" class="row">
{{article.content}}
                </div>
                <div id="meta" class="row mt-3 text-end">
                    <span class="text-muted">Par <span class="fw-bold">{{article.author}}</span>, le <span class="fw-bold">{{article.date}}</span>.</span>
                </div>
            </div>
        </section>
    </main>
    <footer>
        {% include 'footer.html' %}
    </footer>
    {% if messages %}
    <div aria-live="polite" aria-atomic="true" class="position-relative">
        <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 11">
            {% for message in messages %}
            <div class="toast align-items-center text-white bg-{% if message.tags == 'error' %}danger{%else%}{{message.tags}}{%endif%} border-0"
                role="alert" aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                    <div class="toast-body">
                        {{message}}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
                </div>
            </div>
            {%endfor%}
        </div>
    </div>
    {%endif%}
    <div></div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js" crossorigin="anonymous"></script>
    <script>
        window.addEventListener("DOMContentLoaded", () => {
            // Gestion des notifications
            var toastElList = document.querySelectorAll('.toast')

            if (toastElList != undefined) {
                let toast

                //Crée et affiche les différents messages à l'écran
                for (let i = 0; i < toastElList.length; i++) {
                    toast = new bootstrap.Toast(toastElList[i], {
                        delay: 7000
                    })
                    toast.show()
                }
            }

            // Convertion du markdown en html
            var converter = new showdown.Converter(),
                text = document.getElementById("content").innerHTML

            document.getElementById("content").innerHTML = converter.makeHtml(text)
        })
    </script>
</body>

</html>